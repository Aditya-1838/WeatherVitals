{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nconst useFetch = () => {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // location can be a string (city) or an object ({ lat, lon })\n  const fetchData = async location => {\n    setLoading(true);\n    setError(null);\n    let url = \"\";\n    if (typeof location === \"string\") {\n      url = `http://localhost:8000/${location}`;\n    } else if (location && typeof location === \"object\" && \"lat\" in location && \"lon\" in location) {\n      url = `http://localhost:8000/?lat=${location.lat}&lon=${location.lon}`;\n    } else {\n      setError(\"Invalid location\");\n      setLoading(false);\n      return;\n    }\n    try {\n      const res = await fetch(url);\n      if (!res.ok) throw new Error(\"Network response was not ok\");\n      const json = await res.json();\n      setData(json);\n    } catch (err) {\n      setError(err.message || \"Something went wrong\");\n      setData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return [data, fetchData, loading, error];\n};\n_s(useFetch, \"PF2na9M8UJ4bLzW1+Lbyf4L3N00=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useFetch","_s","data","setData","loading","setLoading","error","setError","fetchData","location","url","lat","lon","res","fetch","ok","Error","json","err","message"],"sources":["/home/aditya/Desktop/weather-app/client/src/components/hooks/useFetch.js"],"sourcesContent":["import { useState } from \"react\";\n\nconst useFetch = () => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // location can be a string (city) or an object ({ lat, lon })\n  const fetchData = async (location) => {\n    setLoading(true);\n    setError(null);\n\n    let url = \"\";\n    if (typeof location === \"string\") {\n      url = `http://localhost:8000/${location}`;\n    } else if (location && typeof location === \"object\" && \"lat\" in location && \"lon\" in location) {\n      url = `http://localhost:8000/?lat=${location.lat}&lon=${location.lon}`;\n    } else {\n      setError(\"Invalid location\");\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const res = await fetch(url);\n      if (!res.ok) throw new Error(\"Network response was not ok\");\n      const json = await res.json();\n      setData(json);\n    } catch (err) {\n      setError(err.message || \"Something went wrong\");\n      setData(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return [data, fetchData, loading, error];\n};\n\nexport default useFetch;\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAMS,SAAS,GAAG,MAAOC,QAAQ,IAAK;IACpCJ,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAIG,GAAG,GAAG,EAAE;IACZ,IAAI,OAAOD,QAAQ,KAAK,QAAQ,EAAE;MAChCC,GAAG,GAAI,yBAAwBD,QAAS,EAAC;IAC3C,CAAC,MAAM,IAAIA,QAAQ,IAAI,OAAOA,QAAQ,KAAK,QAAQ,IAAI,KAAK,IAAIA,QAAQ,IAAI,KAAK,IAAIA,QAAQ,EAAE;MAC7FC,GAAG,GAAI,8BAA6BD,QAAQ,CAACE,GAAI,QAAOF,QAAQ,CAACG,GAAI,EAAC;IACxE,CAAC,MAAM;MACLL,QAAQ,CAAC,kBAAkB,CAAC;MAC5BF,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,IAAI;MACF,MAAMQ,GAAG,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;MAC5B,IAAI,CAACG,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;MAC3D,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACI,IAAI,CAAC,CAAC;MAC7Bd,OAAO,CAACc,IAAI,CAAC;IACf,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZX,QAAQ,CAACW,GAAG,CAACC,OAAO,IAAI,sBAAsB,CAAC;MAC/ChB,OAAO,CAAC,IAAI,CAAC;IACf,CAAC,SAAS;MACRE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO,CAACH,IAAI,EAAEM,SAAS,EAAEJ,OAAO,EAAEE,KAAK,CAAC;AAC1C,CAAC;AAACL,EAAA,CAnCID,QAAQ;AAqCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}